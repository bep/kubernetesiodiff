<html>
<body>
<h1></h1>
<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/en/docs/reference/setup-tools/kubeadm/generated/kubeadm_init.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>
<h1></h1>
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li>
              <a href="#synopsis">
                Synopsis
              </a>
            </li>
            <li>
              <a href="#options">
                Options
              </a>
            </li>
            <li>
              <a href="#options-inherited-from-parent-commands">
                Options inherited from parent commands
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
<h3 id="synopsis">
  Synopsis
</h3>
<p>
  Run this command in order to set up the Kubernetes control plane
</p>
<p>
  The &ldquo;init&rdquo; command executes the following phases:
</p>
<pre><code>preflight                    Run pre-flight checks
kubelet-start                Write kubelet settings and (re)start the kubelet
certs                        Certificate generation
  /ca                          Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components
  /apiserver                   Generate the certificate for serving the Kubernetes API
  /apiserver-kubelet-client    Generate the certificate for the API server to connect to kubelet
  /front-proxy-ca              Generate the self-signed CA to provision identities for front proxy
  /front-proxy-client          Generate the certificate for the front proxy client
  /etcd-ca                     Generate the self-signed CA to provision identities for etcd
  /etcd-server                 Generate the certificate for serving etcd
  /etcd-peer                   Generate the certificate for etcd nodes to communicate with each other
  /etcd-healthcheck-client     Generate the certificate for liveness probes to healthcheck etcd
  /apiserver-etcd-client       Generate the certificate the apiserver uses to access etcd
  /sa                          Generate a private key for signing service account tokens along with its public key
kubeconfig                   Generate all kubeconfig files necessary to establish the control plane and the admin kubeconfig file
  /admin                       Generate a kubeconfig file for the admin to use and for kubeadm itself
  /kubelet                     Generate a kubeconfig file for the kubelet to use *only* for cluster bootstrapping purposes
  /controller-manager          Generate a kubeconfig file for the controller manager to use
  /scheduler                   Generate a kubeconfig file for the scheduler to use
control-plane                Generate all static Pod manifest files necessary to establish the control plane
  /apiserver                   Generates the kube-apiserver static Pod manifest
  /controller-manager          Generates the kube-controller-manager static Pod manifest
  /scheduler                   Generates the kube-scheduler static Pod manifest
etcd                         Generate static Pod manifest file for local etcd
  /local                       Generate the static Pod manifest file for a local, single-node local etcd instance
upload-config                Upload the kubeadm and kubelet configuration to a ConfigMap
  /kubeadm                     Upload the kubeadm ClusterConfiguration to a ConfigMap
  /kubelet                     Upload the kubelet component config to a ConfigMap
upload-certs                 Upload certificates to kubeadm-certs
mark-control-plane           Mark a node as a control-plane
bootstrap-token              Generates bootstrap tokens used to join a node to a cluster
kubelet-finalize             Updates settings relevant to the kubelet after TLS bootstrap
  /experimental-cert-rotation  Enable kubelet client certificate rotation
addon                        Install required addons for passing Conformance tests
  /coredns                     Install the CoreDNS addon to a Kubernetes cluster
  /kube-proxy                  Install the kube-proxy addon to a Kubernetes cluster</code></pre>
<pre><code>kubeadm init [flags]</code></pre>
<h3 id="options">
  Options
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;apiserver-advertise-address string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      The IP address the API Server will advertise it&rsquo;s listening on. If not set the default network interface will be used.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Port for the API Server to bind to.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;apiserver-cert-extra-sans stringSlice
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &ldquo;/etc/kubernetes/pki&rdquo;
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      The path where to save and store the certificates.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;certificate-key string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Key used to encrypt the control-plane certificates in the kubeadm-certs Secret.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;config string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Path to a kubeadm configuration file.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;control-plane-endpoint string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Specify a stable IP address or DNS name for the control plane.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;cri-socket string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;dry-run
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Don&rsquo;t apply any changes; just output what would be done.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      -k, &ndash;experimental-kustomize string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      The path where kustomize patches for static pod manifests are stored.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;feature-gates string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      A set of key=value pairs that describe feature gates for various features. Options are:
      <br/>
      IPv6DualStack=true|false (ALPHA - default=false)
      <br/>
      PublicKeysECDSA=true|false (ALPHA - default=false)
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      -h, &ndash;help
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      help for init
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;ignore-preflight-errors stringSlice
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      A list of checks whose errors will be shown as warnings. Example: &lsquo;IsPrivilegedUser,Swap&rsquo;. Value &lsquo;all&rsquo; ignores errors from all checks.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &ldquo;k8s.gcr.io&rdquo;
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Choose a container registry to pull control plane images from
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &ldquo;stable-1&rdquo;
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Choose a specific Kubernetes version for the control plane.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;node-name string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Specify the node name.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;pod-network-cidr string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &ldquo;10.96.0.0/12&rdquo;
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Use alternative range of IP address for service VIPs.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &ldquo;cluster.local&rdquo;
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Use alternative domain for services, e.g. &ldquo;myorg.internal&rdquo;.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;skip-certificate-key-print
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Don&rsquo;t print the key used to encrypt the control-plane certificates.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;skip-phases stringSlice
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      List of phases to be skipped
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;skip-token-print
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Skip printing of the default bootstrap token generated by &lsquo;kubeadm init&rsquo;.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;token string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      The token to use for establishing bidirectional trust between nodes and control-plane nodes. The format is [a-z0-9]{6}.[a-z0-9]{16} - e.g. abcdef.0123456789abcdef
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;token-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      The duration before the token is automatically deleted (e.g. 1s, 2m, 3h). If set to &lsquo;0&rsquo;, the token will never expire
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;upload-certs
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Upload control-plane certificates to the kubeadm-certs Secret.
    </td>
  </tr>
</p>
<p>
<h3 id="options-inherited-from-parent-commands">
  Options inherited from parent commands
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;rootfs string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      [EXPERIMENTAL] The path to the &lsquo;real&rsquo; host root filesystem.
    </td>
  </tr>
</p>
<p>