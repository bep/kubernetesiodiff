<html>
<body>
<h1>
  kubeadm reset phase
</h1>
<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/en/docs/reference/setup-tools/kubeadm/kubeadm-reset-phase.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>
<h1>
  kubeadm reset phase
</h1>
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <a href="#cmd-reset-phase">
            kubeadm reset phase
          </a>
        </li>
        <li>
          <a href="#cmd-reset-phase-preflight">
            kubeadm reset phase preflight
          </a>
        </li>
        <li>
          <a href="#cmd-reset-phase-update-cluster-status">
            kubeadm reset phase update-cluster-status
          </a>
        </li>
        <li>
          <a href="#cmd-reset-phase-remove-etcd-member">
            kubeadm reset phase remove-etcd-member
          </a>
        </li>
        <li>
          <a href="#cmd-reset-phase-cleanup-node">
            kubeadm reset phase cleanup-node
          </a>
        </li>
        <li>
          <a href="#what-s-next">
            What&rsquo;s next
          </a>
        </li>
      </ul>
    </li>
  </ul>
</nav>
<p>
  <code>
    kubeadm reset phase
  </code>
  enables you to invoke atomic steps of the node reset process.
  Hence, you can let kubeadm do some of the work and you can fill in the gaps
  if you wish to apply customization.
</p>
<p>
  <code>
    kubeadm reset phase
  </code>
  is consistent with the
  <a href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/#reset-workflow">
    kubeadm reset workflow
  </a>
  ,
  and behind the scene both use the same code.
</p>
<h2 id="cmd-reset-phase">
  kubeadm reset phase
</h2>
<div id="tab-phase">
<ul>
  <li>
    <a href="#tab-phase-0">
      phase
    </a>
  </li>
</ul>
<div id="tab-phase-0">
<h3 id="synopsis">
  Synopsis
</h3>
<p>
  Use this command to invoke single phase of the reset workflow
</p>
<h3 id="options">
  Options
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      -h, &ndash;help
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      help for phase
    </td>
  </tr>
</p>
<p>
<h3 id="options-inherited-from-parent-commands">
  Options inherited from parent commands
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;rootfs string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      [EXPERIMENTAL] The path to the &lsquo;real&rsquo; host root filesystem.
    </td>
  </tr>
</p>
<p>
<script>
  $(function(){$("#tab-phase").tabs();});
</script>
<h2 id="cmd-reset-phase-preflight">
  kubeadm reset phase preflight
</h2>
<p>
  Using this phase you can execute preflight checks on a node that is being reset.
</p>
<div id="tab-preflight">
<ul>
  <li>
    <a href="#tab-preflight-0">
      preflight
    </a>
  </li>
</ul>
<div id="tab-preflight-0">
<h3 id="synopsis">
  Synopsis
</h3>
<p>
  Run pre-flight checks for kubeadm reset.
</p>
<pre><code>kubeadm reset phase preflight [flags]</code></pre>
<h3 id="options">
  Options
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      -f, &ndash;force
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Reset the node without prompting for confirmation.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      -h, &ndash;help
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      help for preflight
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;ignore-preflight-errors stringSlice
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      A list of checks whose errors will be shown as warnings. Example: &lsquo;IsPrivilegedUser,Swap&rsquo;. Value &lsquo;all&rsquo; ignores errors from all checks.
    </td>
  </tr>
</p>
<p>
<h3 id="options-inherited-from-parent-commands">
  Options inherited from parent commands
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;rootfs string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      [EXPERIMENTAL] The path to the &lsquo;real&rsquo; host root filesystem.
    </td>
  </tr>
</p>
<p>
<script>
  $(function(){$("#tab-preflight").tabs();});
</script>
<h2 id="cmd-reset-phase-update-cluster-status">
  kubeadm reset phase update-cluster-status
</h2>
<p>
  Using this phase you can remove this control-plane node from the ClusterStatus object.
</p>
<div id="tab-update-cluster-status">
<ul>
  <li>
    <a href="#tab-update-cluster-status-0">
      update-cluster-status
    </a>
  </li>
</ul>
<div id="tab-update-cluster-status-0">
<h3 id="synopsis">
  Synopsis
</h3>
<p>
  Remove this node from the ClusterStatus object if the node is a control plane node.
</p>
<pre><code>kubeadm reset phase update-cluster-status [flags]</code></pre>
<h3 id="options">
  Options
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      -h, &ndash;help
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      help for update-cluster-status
    </td>
  </tr>
</p>
<p>
<h3 id="options-inherited-from-parent-commands">
  Options inherited from parent commands
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;rootfs string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      [EXPERIMENTAL] The path to the &lsquo;real&rsquo; host root filesystem.
    </td>
  </tr>
</p>
<p>
<script>
  $(function(){$("#tab-update-cluster-status").tabs();});
</script>
<h2 id="cmd-reset-phase-remove-etcd-member">
  kubeadm reset phase remove-etcd-member
</h2>
<p>
  Using this phase you can remove this control-plane node&rsquo;s etcd member from the etcd cluster.
</p>
<div id="tab-remove-etcd-member">
<ul>
  <li>
    <a href="#tab-remove-etcd-member-0">
      remove-etcd-member
    </a>
  </li>
</ul>
<div id="tab-remove-etcd-member-0">
<h3 id="synopsis">
  Synopsis
</h3>
<p>
  Remove a local etcd member for a control plane node.
</p>
<pre><code>kubeadm reset phase remove-etcd-member [flags]</code></pre>
<h3 id="options">
  Options
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      -h, &ndash;help
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      help for remove-etcd-member
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &ldquo;/etc/kubernetes/admin.conf&rdquo;
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.
    </td>
  </tr>
</p>
<p>
<h3 id="options-inherited-from-parent-commands">
  Options inherited from parent commands
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;rootfs string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      [EXPERIMENTAL] The path to the &lsquo;real&rsquo; host root filesystem.
    </td>
  </tr>
</p>
<p>
<script>
  $(function(){$("#tab-remove-etcd-member").tabs();});
</script>
<h2 id="cmd-reset-phase-cleanup-node">
  kubeadm reset phase cleanup-node
</h2>
<p>
  Using this phase you can perform cleanup on this node.
</p>
<div id="tab-cleanup-node">
<ul>
  <li>
    <a href="#tab-cleanup-node-0">
      cleanup-node
    </a>
  </li>
</ul>
<div id="tab-cleanup-node-0">
<h3 id="synopsis">
  Synopsis
</h3>
<p>
  Run cleanup node.
</p>
<pre><code>kubeadm reset phase cleanup-node [flags]</code></pre>
<h3 id="options">
  Options
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &ldquo;/etc/kubernetes/pki&rdquo;
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      The path to the directory where the certificates are stored. If specified, clean this directory.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;cri-socket string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.
    </td>
  </tr>
</p>
<p>
  <tr>
    <td colspan="2">
      -h, &ndash;help
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      help for cleanup-node
    </td>
  </tr>
</p>
<p>
<h3 id="options-inherited-from-parent-commands">
  Options inherited from parent commands
</h3>
<p>
  <table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>
</p>
<p>
  <tr>
    <td colspan="2">
      &ndash;rootfs string
    </td>
  </tr>
  <tr>
    <td></td>
    <td style="line-height: 130%; word-wrap: break-word;">
      [EXPERIMENTAL] The path to the &lsquo;real&rsquo; host root filesystem.
    </td>
  </tr>
</p>
<p>
<script>
  $(function(){$("#tab-cleanup-node").tabs();});
</script>
<h2 id="what-s-next">
  What&rsquo;s next
</h2>
<ul>
  <li>
    <a href="/docs/reference/setup-tools/kubeadm/kubeadm-init/">
      kubeadm init
    </a>
    to bootstrap a Kubernetes control-plane node
  </li>
  <li>
    <a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/">
      kubeadm join
    </a>
    to connect a node to the cluster
  </li>
  <li>
    <a href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/">
      kubeadm reset
    </a>
    to revert any changes made to this host by
    <code>
      kubeadm init
    </code>
    or
    <code>
      kubeadm join
    </code>
  </li>
  <li>
    <a href="/docs/reference/setup-tools/kubeadm/kubeadm-alpha/">
      kubeadm alpha
    </a>
    to try experimental functionality
  </li>
</ul>